<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Announcement Wizard</title>
<style>
  body{font-family:sans-serif;max-width:600px;margin:0 auto;padding:1rem;}
  .step{display:none;}
  .step.active{display:block;}
  .nav{margin-top:1rem;}
  label{display:block;margin:0.5rem 0;}
  progress{width:100%;}
</style>
</head>
<body>
<h1>Create Your Announcement</h1>
<form id="wizard">
  <div id="progressText">Step 1 of 8</div>
  <progress id="progressBar" value="1" max="8"></progress>

  <div class="step active" data-step="1">
    <h2>Background Color</h2>
    <p>What background color do you want for your announcement?</p>
    <input type="color" id="color" name="color" value="#f3ddbb">
    <div class="nav"><button type="button" class="next">Next</button></div>
  </div>

  <div class="step" data-step="2">
    <h2>First Reveal Message</h2>
    <p>What's the first message that should appear after the reels spin?</p>
    <input type="text" id="main" name="main">
    <div class="nav">
      <button type="button" class="back">Back</button>
      <button type="button" class="next">Next</button>
    </div>
  </div>

  <div class="step" data-step="3">
    <h2>Style First Message</h2>
    <p>How should this first message look?</p>
    <label>Font
      <select id="fontMain" name="fontMain">
        <option value="">Default</option>
        <option>Poppins</option>
        <option>Playfair Display</option>
        <option>Dancing Script</option>
        <option>Montserrat</option>
      </select>
    </label>
    <label>Text color <input type="color" id="mainTextColor" name="mainTextColor" value="#000000"></label>
    <label>Outline color <input type="color" id="mainOutlineColor" name="mainOutlineColor" value="#000000"></label>
    <label><input type="checkbox" id="mainBold" name="mainBold"> Bold</label>
    <label><input type="checkbox" id="mainItalic" name="mainItalic"> Italic</label>
    <label><input type="checkbox" id="mainCaps" name="mainCaps"> ALL CAPS</label>
    <div class="nav">
      <button type="button" class="back">Back</button>
      <button type="button" class="next">Next</button>
    </div>
  </div>

  <div class="step" data-step="4">
    <h2>Follow-Up Message</h2>
    <p>What message should appear next on the second screen?</p>
    <input type="text" id="sub" name="sub">
    <div class="nav">
      <button type="button" class="back">Back</button>
      <button type="button" class="next">Next</button>
    </div>
  </div>

  <div class="step" data-step="5">
    <h2>Style Follow-Up Message</h2>
    <p>How should the second message look?</p>
    <label>Font
      <select id="fontSub" name="fontSub">
        <option value="">Default</option>
        <option>Poppins</option>
        <option>Playfair Display</option>
        <option>Dancing Script</option>
        <option>Montserrat</option>
      </select>
    </label>
    <label>Text color <input type="color" id="subTextColor" name="subTextColor" value="#000000"></label>
    <label>Outline color <input type="color" id="subOutlineColor" name="subOutlineColor" value="#000000"></label>
    <label><input type="checkbox" id="subBold" name="subBold"> Bold</label>
    <label><input type="checkbox" id="subItalic" name="subItalic"> Italic</label>
    <label><input type="checkbox" id="subCaps" name="subCaps"> ALL CAPS</label>
    <div class="nav">
      <button type="button" class="back">Back</button>
      <button type="button" class="next">Next</button>
    </div>
  </div>

  <div class="step" data-step="6">
    <h2>Ending Note</h2>
    <p>Want to add a closing message or signature?</p>
    <input type="text" id="from" name="from">
    <div class="nav">
      <button type="button" class="back">Back</button>
      <button type="button" class="next">Next</button>
    </div>
  </div>

  <div class="step" data-step="7">
    <h2>Style Closing Note</h2>
    <p>How should the closing message look?</p>
    <label>Font
      <select id="fontFrom" name="fontFrom">
        <option value="">Default</option>
        <option>Poppins</option>
        <option>Playfair Display</option>
        <option>Dancing Script</option>
        <option>Montserrat</option>
      </select>
    </label>
    <label>Text color <input type="color" id="fromTextColor" name="fromTextColor" value="#000000"></label>
    <label>Outline color <input type="color" id="fromOutlineColor" name="fromOutlineColor" value="#000000"></label>
    <label><input type="checkbox" id="fromBold" name="fromBold"> Bold</label>
    <label><input type="checkbox" id="fromItalic" name="fromItalic"> Italic</label>
    <label><input type="checkbox" id="fromCaps" name="fromCaps"> ALL CAPS</label>
    <div class="nav">
      <button type="button" class="back">Back</button>
      <button type="button" class="next">Next</button>
    </div>
  </div>

  <div class="step" data-step="8">
    <h2>Add Photo (Optional)</h2>
    <p>Want to include a circular photo?</p>
    <input type="url" id="photo" name="photo" placeholder="https://example.com/photo.jpg">
    <div class="nav">
      <button type="button" class="back">Back</button>
      <button type="button" id="generate">Generate My Link</button>
    </div>
  </div>
</form>

<div id="result" style="display:none;margin-top:1rem;">
  <label>Your Link:<input type="text" id="resultUrl" readonly style="width:100%;"></label>
</div>

<script>
const steps=document.querySelectorAll('.step');
const progress=document.getElementById('progressBar');
const progressText=document.getElementById('progressText');
let current=0;
function showStep(i){
  steps.forEach((s,idx)=>s.classList.toggle('active',idx===i));
  progress.value=i+1;
  progressText.textContent=`Step ${i+1} of ${steps.length}`;
}

document.getElementById('wizard').addEventListener('click',e=>{
  if(e.target.classList.contains('next')){ if(current<steps.length-1){current++; showStep(current);} }
  if(e.target.classList.contains('back')){ if(current>0){current--; showStep(current);} }
});

document.getElementById('generate').addEventListener('click',()=>{
  const params=new URLSearchParams();
  const color=document.getElementById('color').value;
  if(color) params.set('color',color);
  const main=document.getElementById('main').value.trim();
  if(main) params.set('main',main);
  const fontMain=document.getElementById('fontMain').value;
  if(fontMain) params.set('fontMain',fontMain);
  const mainTextColor=document.getElementById('mainTextColor').value;
  if(mainTextColor) params.set('mainTextColor',mainTextColor);
  const mainOutlineColor=document.getElementById('mainOutlineColor').value;
  if(mainOutlineColor) params.set('mainOutlineColor',mainOutlineColor);
  if(document.getElementById('mainBold').checked) params.set('mainBold','1');
  if(document.getElementById('mainItalic').checked) params.set('mainItalic','1');
  if(document.getElementById('mainCaps').checked) params.set('mainCaps','1');

  const sub=document.getElementById('sub').value.trim();
  if(sub) params.set('sub',sub);
  const fontSub=document.getElementById('fontSub').value;
  if(fontSub) params.set('fontSub',fontSub);
  const subTextColor=document.getElementById('subTextColor').value;
  if(subTextColor) params.set('subTextColor',subTextColor);
  const subOutlineColor=document.getElementById('subOutlineColor').value;
  if(subOutlineColor) params.set('subOutlineColor',subOutlineColor);
  if(document.getElementById('subBold').checked) params.set('subBold','1');
  if(document.getElementById('subItalic').checked) params.set('subItalic','1');
  if(document.getElementById('subCaps').checked) params.set('subCaps','1');

  const from=document.getElementById('from').value.trim();
  if(from) params.set('from',from);
  const fontFrom=document.getElementById('fontFrom').value;
  if(fontFrom) params.set('fontFrom',fontFrom);
  const fromTextColor=document.getElementById('fromTextColor').value;
  if(fromTextColor) params.set('fromTextColor',fromTextColor);
  const fromOutlineColor=document.getElementById('fromOutlineColor').value;
  if(fromOutlineColor) params.set('fromOutlineColor',fromOutlineColor);
  if(document.getElementById('fromBold').checked) params.set('fromBold','1');
  if(document.getElementById('fromItalic').checked) params.set('fromItalic','1');
  if(document.getElementById('fromCaps').checked) params.set('fromCaps','1');

  const photo=document.getElementById('photo').value.trim();
  if(photo) params.set('photo',photo);

  const url='https://customjc.netlify.app/?'+params.toString();
  document.getElementById('resultUrl').value=url;
  document.getElementById('result').style.display='block';
});

showStep(0);
</script>
</body>
</html>
